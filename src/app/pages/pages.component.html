<main class="container-main" [ngClass]="{ 'p-100px': sideNav == false }">

  <div class="side-nav" [ngClass]="{ 'w-100px side-nav-active': sideNav == false }">
    <span style="" class="hide-button" (click)="sideNavToggle()">X</span>
    <!-- <div class="side-nav-main"  [ngClass]="sideNav ? 'scroll' : 'mobile-design'"> -->
    <div class="side-nav-main"  [ngClass]="sideNav ? 'scroll' : ''">

      <!---sidenav-top-->
      <div class="side-nav-header" [class]="sideNav ? '' : 'al-center'" [class.mobile-margin-top]="sideRes">
        <a class="logo" routerLink="/" [class]="sideNav ? 's' : 'logo-hide'">
            @if(shopInfo?.logoPrimary){
              <img [src]="shopInfo?.logoPrimary" alt="image" loading="lazy">
            }@else {
              <p>{{websiteInfo?.websiteName}}</p>
            }
<!--          <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 339 80">-->
<!--            <defs>-->
<!--              <style>-->
<!--                .cls-55 {-->
<!--                  font-family: SatoshiVariable-Bold, 'Satoshi Variable';-->
<!--                  font-size: 45px;-->
<!--                  font-variation-settings: 'wght' 700;-->
<!--                  font-weight: 700;-->
<!--                  fill: #000000;-->
<!--                }-->
<!--              </style>-->
<!--            </defs>-->
<!--            <text class="cls-55" transform="translate(80.2 57.88)" ><tspan x="0" y="0">SALEECOM</tspan></text>-->
<!--            <g id="riBV9t.tif">-->
<!--              <g>-->
<!--                <path  d="M41,37.08c-5.25,0-10.5,.02-15.76-.02-1.03,0-1.46,.33-1.74,1.35-.88,3.23-.3,6.26,.87,9.28,1.29,3.3,3.54,5.78,6.54,7.52,3.94,2.28,8.16,2.68,12.54,1.36,3.5-1.06,6.23-3.17,8.28-6.16,.48-.69,.86-1.46,1.19-2.23,.53-1.22,.96-1.55,2.27-1.56,.57,0,1.13,0,1.7-.02,1.04-.01,1.45,.4,1.08,1.4-.58,1.54-1.22,3.1-2.07,4.51-1.4,2.29-3.24,4.22-5.47,5.75-1.98,1.36-4.13,2.35-6.43,3-3.53,1.01-7.09,1.02-10.61-.03-4.19-1.25-7.74-3.48-10.49-6.94-2.14-2.69-3.44-5.73-4.11-9.06-.17-.85-.66-1.13-1.46-1.12-1.6,0-3.21-.04-4.81-.04-.82,0-1.15-.36-1.19-1.2-.2-3.8,.44-7.48,1.81-10.98,1.94-4.98,5.04-9.13,9.44-12.27,2.65-1.89,5.5-3.29,8.64-4.22,4.56-1.35,9.16-1.43,13.7-.41,6.66,1.5,12.07,5.13,16.11,10.67,2.12,2.91,3.64,6.15,4.41,9.68,.33,1.52,.11,1.73-1.39,1.72-.41,0-.82,0-1.23,0-1.53,0-1.8-.14-2.18-1.61-1.04-4-3.18-7.36-6.13-10.18-2.28-2.18-4.9-3.83-7.92-4.9-3.26-1.15-6.57-1.74-9.99-1.34-6.17,.71-11.36,3.37-15.38,8.17-2.64,3.15-4.26,6.78-4.93,10.82-.23,1.39,.31,1.87,1.65,1.46,.32-.1,.69-.55,.75-.89,.46-2.56,1.32-4.97,2.62-7.21,1.59-2.73,3.68-4.98,6.35-6.69,3.95-2.52,8.26-3.62,12.91-3.18,3.08,.3,5.99,1.23,8.67,2.87,2.28,1.4,4.26,3.11,5.82,5.27,1.31,1.81,2.42,3.73,2.98,5.92,.32,1.26,.07,1.53-1.19,1.52-5.28-.02-10.57,0-15.85,0,0,0,0-.01,0-.02Zm9.94-5.04c-6.41-8.29-19.21-7.29-24.25,.02,.47,.1,.88,.25,1.28,.25,7.19,.01,14.39,.01,21.58,0,.41,0,.82-.15,1.38-.26Z"/>-->
<!--                <path  d="M45.75,39.58c6.26,0,12.52,0,18.77,0,1.56,0,1.69,.14,1.71,1.73,.05,4.58-1.02,8.86-3.09,12.95-2.39,4.7-5.89,8.33-10.36,11.02-4.75,2.86-9.95,4-15.51,3.74-3.18-.15-6.25-.79-9.14-2.02-3.94-1.68-7.35-4.15-10.18-7.41-2.64-3.04-4.36-6.55-5.62-10.33-.04-.12-.07-.24-.1-.36-.43-2.14-.22-2.42,1.73-2.28,.28,.02,.57,0,.85,0,1.39,0,1.83,.35,2.2,1.67,1.32,4.7,4.07,8.41,7.84,11.44,2.26,1.82,4.82,3.13,7.56,3.84,3.27,.84,6.64,1.49,10.05,.52,1.23-.35,2.5-.55,3.72-.93,3.33-1.03,6.17-2.88,8.63-5.32,3.4-3.36,5.49-7.44,6.38-12.12,.25-1.29-.03-1.58-1.34-1.59-2.14-.01-4.28,.02-6.41-.02-.81-.02-1.3,.25-1.56,1.03-.7,2.1-1.66,4.06-3.19,5.7-1.8,1.92-3.95,3.2-6.5,3.9-2.48,.68-4.94,.59-7.35-.13-2.69-.81-5.01-2.29-6.72-4.57-1.95-2.59-2.99-5.48-2.83-8.77,.08-1.56,.14-1.67,1.68-1.67,6.26,0,12.52,0,18.77,0Z"/>-->
<!--              </g>-->
<!--            </g>-->
<!--          </svg>-->
        </a>
      </div>

      <div class="menu">
        <ul>
          <li *ngFor="let menu of allMenus">

            <ng-container *ngIf="!menu?.hasSubMenu">
              <div class="menu-item" #dashboard  (click)="subMenuToggle(menu.id)"
                   routerLinkActive="link-active" [routerLinkActiveOptions]="{exact: true}">
                <a [class]="windowWidth > 1200 && sideNav == false ? 'column-menu' : ''"  [routerLink]="menu.routerLink" (click)="windowWidth < 1200 ? sideNavToggle() : ''"
                   class="no-select">
                  <span class="material-icons icon">{{ menu.icon }}</span>
                  <span [class]="windowWidth > 1200 && sideNav == false ? 'menu-show' : 'font-size'">{{ menu.name }}</span>
                </a>
                <div class="active-bar"></div>
              </div>
            </ng-container>

            <ng-container *ngIf="menu?.hasSubMenu">
              <div class="menu-item" (click)="subMenuToggle(menu.id, true)" [class]="subId == menu.id ? 'link-active' : ''">
                <a class="no-select" [class]="windowWidth > 1200 && sideNav == false ? 'column-menu' : ''">
                  <span class="material-icons icon">{{ menu.icon }}</span>
                  <span [class]="windowWidth > 1200 && sideNav == false ? 'menu-show' : 'font-size'">{{ menu.name }}</span>
                </a>
                <span *ngIf="
                    (windowWidth > 1200 && sideNav == true) ||
                    (windowWidth < 1200 && sideNav == false)" class="material-icons">
                   {{subId == menu.id ? 'arrow_drop_down' : 'arrow_right'}}
                </span>
              </div>
              <div class="sub-menu" [class]="
                  (windowWidth >= 1200 &&
                    ((subId == menu.id && sideNav == true) || sideRes == true)) ||
                  (windowWidth < 1200 && subId == menu.id && sideNav == false) ? 'show-sub' : 'hide-sub'">
                <ul>
                  <li class="hover-title no-select"><a>{{ menu.name }}</a></li>
                  <ng-container *ngFor="let subMenu of menu.subMenus">
                    <!-- If subMenu has nested subMenus, render as folder -->
                    <li *ngIf="subMenu.hasSubMenu && subMenu.subMenus && subMenu.subMenus.length > 0" 
                        class="sub-link-li folder-item" 
                        [class.folder-open]="subMenuId == subMenu.id">
                      <a class="no-select folder-header" (click)="subMenuToggle(subMenu.id, false, menu.id); $event.stopPropagation()">
                        <span class="material-icons">{{ subMenu.icon }}</span>
                        <span class="sub-menu-text">{{ subMenu.name }}</span>
                        <span class="material-icons folder-arrow">
                          {{ subMenuId == subMenu.id ? 'arrow_drop_down' : 'arrow_right' }}
                        </span>
                      </a>
                      <ul class="nested-sub-menu" [class.show-nested]="subMenuId == subMenu.id">
                        <li class="nested-link-li" 
                            routerLinkActive="sub-link-active" 
                            [routerLink]="nestedMenu.routerLink"
                            *ngFor="let nestedMenu of subMenu.subMenus">
                          <a class="no-select" (click)="windowWidth < 1200 ? sideNavToggle() : ''">
                            <span class="material-icons">{{ nestedMenu.icon }}</span>
                            <span class="sub-menu-text">{{ nestedMenu.name }}</span>
                          </a>
                          <div class="sub-active-bar"></div>
                        </li>
                      </ul>
                    </li>
                    <!-- If subMenu is a direct link, render normally -->
                    <li *ngIf="!subMenu.hasSubMenu || !subMenu.subMenus || subMenu.subMenus.length === 0" 
                        class="sub-link-li" 
                        routerLinkActive="sub-link-active" 
                        [routerLink]="subMenu.routerLink">
                      <a class="no-select" (click)="windowWidth < 1200 ? sideNavToggle() : ''">
                        <span class="material-icons">{{ subMenu.icon }}</span>
                        <span class="sub-menu-text">{{ subMenu.name }}</span>
                      </a>
                      <div class="sub-active-bar"></div>
                    </li>
                  </ng-container>
                </ul>
              </div>
            </ng-container>
          </li>


          <!-- Support menu start here  -->

          <li *ngIf="USER_ROLE === 'super_admin'">
            <div class="menu-item" (click)="subMenuToggle(24)" [class]="subId == 24 ? 'link-active' : ''">
              <a href="https://softlabit.com/" target="_blank" class="no-select">
                <span class="material-icons">info</span>
                <span [class]="sideNav ? 'menu-show' : 'menu-hide isParentMenu'">Support
                  </span>
              </a>
            </div>
          </li>

          <!-- logout section start  -->
<!--          <li *ngIf="websiteInfo && websiteInfo.shopType === 'starter'">-->
<!--            <div class="menu-item" style="margin-left: 0">-->
<!--              <a (click)="upgradeAdmin()" class="no-select">-->
<!--                <span class="material-icons icon">workspace_premium</span>-->
<!--                <span [class]="sideNav ? 'menu-show' : 'menu-hide'">Upgrade your admin</span>-->
<!--              </a>-->
<!--            </div>-->
<!--          </li>-->

          <li *ngIf="websiteInfo && websiteInfo.shopType === 'starter'">
            <div class="menu-item" style="margin-left: 0">
              <a (click)="upgradeAdmin()" class="no-select blink-effect">
                <span class="material-icons icon">workspace_premium</span>
                <span [class]="sideNav ? 'menu-show' : 'menu-hide'">Upgrade your admin</span>
              </a>
            </div>
          </li>



          <!-- logout section start  -->
          <li>
            <div class="menu-item" style="margin-left: 0">
              <a (click)="adminLogOut()" class="no-select">
                <span class="material-icons icon">logout</span>
                <span [class]="sideNav ? 'menu-show' : 'menu-hide'">Logout</span>
              </a>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div> <!-- End! Side nav -->

  <div class="content-main">
    <app-header (onMenuToggle)="onMenuToggle($event)" [shopInfo]="shopInfo" [websiteInfo]="websiteInfo" [shopPackageInfo]="shopPackageInfo"></app-header>
    <app-route-progress></app-route-progress>
    <router-outlet/>
  </div> <!-- End! Main View Area -->
</main>

<div class="overlay" *ngIf="sideNav == false" (click)="sideNavToggle()"> </div>


