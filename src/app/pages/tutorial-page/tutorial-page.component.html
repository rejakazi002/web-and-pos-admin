<section class="full-gallery">

  <div class="header">
    <div class="left">
      <h1 class="title">Tutorial</h1>
    </div> <!-- END! left -->

    <form class="table-search" #searchForm=ngForm>
      <input type="text"
             name="searchTerm"
             autocomplete="off"
             [(ngModel)]="searchQuery"
             placeholder="Search">
      @if (!searchQuery) {
        <button>
          <mat-icon>search</mat-icon>
        </button>
      } @else {
        <button (click)="onClearSearch()">
          <mat-icon>close</mat-icon>
        </button>
      }
    </form> <!-- END! table-search -->

  </div> <!-- END! header -->

  <div class="gallery" appInfiniteScroll (scrollEnd)="loadMoreData()" >


    @defer (when !isLoadingData) {
      <ng-container>
        <div *ngFor="let item of allTableData; let i = index" [@fadeIn]="item.state" class="image-container" (click)="openYoutubeVideoDialog($event,item?.url)">
          <img [src]="item.image" [alt]="item.name">
          <div class="bottom-info">
            <h2>{{ item.name | titlecase}}</h2>
          </div>
          <div class="keyword-wrapper">
            <span *ngFor="let keyword of item.keywordArr; let i = index" class="keyword">{{keyword}}</span>
          </div>

        </div>
        <div class="full-width-container">
          <div *ngIf="isLoading" class="spinner">
            <mat-spinner></mat-spinner>
          </div>
        </div>
      </ng-container>
    } @placeholder(minimum 500ms)  {
      <app-gallery-loader *ngFor="let image of [].constructor(8); let i = index" ></app-gallery-loader>
    }


  </div> <!-- END Gallery -->

  <!-- Loader spinner -->

</section>
