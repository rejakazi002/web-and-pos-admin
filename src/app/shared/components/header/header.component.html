<mat-toolbar class="c-toolbar">
  <!--  <div class="brand">-->
  <!--    <img routerLink="/dashboard" src="/assets/brand/light-se-logo.png.png" alt="">-->
  <!--  </div> &lt;!&ndash; END BRAND &ndash;&gt;-->

  <div class="menu-ctrl">
    <button class="menu-bar" mat-icon-button (click)="onClickMenu()">
      <mat-icon>menu</mat-icon>
    </button>
    <!--    <a class="web-link" [attr.href]="'//' + webLink" target="_blank"><b></b>Go to Website</a>-->

    <div class="visit-website">
      <a class="web-link" [href]="'https://' + websiteInfo?.domain" target="_blank" matTooltip="Go to Website">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path class="animatedPath"
            d="M16.5 12C16.5 11.32 16.44 10.66 16.36 10H19.74C19.9 10.64 20 11.31 20 12C20 12.37 19.97 12.73 19.92 13.08C20.61 13.18 21.25 13.4 21.84 13.72C21.94 13.16 22 12.59 22 12C22 6.5 17.5 2 12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22C12.59 22 13.16 21.94 13.72 21.84C13.245 20.9689 12.9974 19.9921 13 19C13 18.71 13.03 18.43 13.07 18.15C12.75 18.78 12.4 19.39 12 19.96C11.17 18.76 10.5 17.43 10.09 16H13.81C14.4106 14.9564 15.3137 14.1195 16.4 13.6C16.46 13.07 16.5 12.54 16.5 12ZM12 4.03C12.83 5.23 13.5 6.57 13.91 8H10.09C10.5 6.57 11.17 5.23 12 4.03ZM4.26 14C4.1 13.36 4 12.69 4 12C4 11.31 4.1 10.64 4.26 10H7.64C7.56 10.66 7.5 11.32 7.5 12C7.5 12.68 7.56 13.34 7.64 14H4.26ZM5.08 16H8C8.35 17.25 8.8 18.45 9.4 19.56C7.57827 18.9323 6.04429 17.6682 5.08 16ZM8 8H5.08C6.03864 6.32703 7.57466 5.06124 9.4 4.44C8.8 5.55 8.35 6.75 8 8ZM14.34 14H9.66C9.56 13.34 9.5 12.68 9.5 12C9.5 11.32 9.56 10.65 9.66 10H14.34C14.43 10.65 14.5 11.32 14.5 12C14.5 12.68 14.43 13.34 14.34 14ZM14.59 4.44C16.43 5.07 17.96 6.34 18.92 8H15.97C15.6565 6.76161 15.1931 5.56611 14.59 4.44Z"
            fill="black" />
          <path class="animatedPath"
            d="M18.4998 17.625C18.2678 17.625 18.0452 17.7172 17.8811 17.8813C17.717 18.0454 17.6248 18.2679 17.6248 18.5C17.6248 18.7321 17.717 18.9546 17.8811 19.1187C18.0452 19.2828 18.2678 19.375 18.4998 19.375C18.7319 19.375 18.9545 19.2828 19.1186 19.1187C19.2826 18.9546 19.3748 18.7321 19.3748 18.5C19.3748 18.2679 19.2826 18.0454 19.1186 17.8813C18.9545 17.7172 18.7319 17.625 18.4998 17.625ZM18.4998 19.9583C18.1131 19.9583 17.7421 19.8047 17.4686 19.5312C17.1951 19.2577 17.0415 18.8868 17.0415 18.5C17.0415 18.1132 17.1951 17.7423 17.4686 17.4688C17.7421 17.1953 18.1131 17.0417 18.4998 17.0417C18.8866 17.0417 19.2575 17.1953 19.531 17.4688C19.8045 17.7423 19.9582 18.1132 19.9582 18.5C19.9582 18.8868 19.8045 19.2577 19.531 19.5312C19.2575 19.8047 18.8866 19.9583 18.4998 19.9583ZM18.4998 16.3125C17.0415 16.3125 15.7961 17.2196 15.2915 18.5C15.7961 19.7804 17.0415 20.6875 18.4998 20.6875C19.9582 20.6875 21.2036 19.7804 21.7082 18.5C21.2036 17.2196 19.9582 16.3125 18.4998 16.3125Z"
            fill="black" />
        </svg>
        Go to Website
      </a>
    </div>

  </div>

  <div class="toolbar-date">
    <div class="date-container">
      <!--      <h4-->
      <!--        [style.padding-top]="pageDataService?.pageData?.navArray.length ? '5px' : '0'"-->
      <!--        [style.font-size]="pageDataService?.pageData?.navArray.length ? '16px' : '20px'"-->
      <!--      >-->
      <!--        {{pageDataService?.pageData?.title ?? 'Dashboard'}}-->
      <!--      </h4>-->
      @if (pageDataService?.pageData?.navArray.length) {
      <app-breadcrumb [navArray]="pageDataService?.pageData?.navArray"></app-breadcrumb>
      } @else {
      <app-breadcrumb [navArray]="[]"></app-breadcrumb>
      }
    </div>
  </div>

  <div class="mobile-view">
    <a [href]="'https://' + websiteInfo?.domain" target="_blank" matTooltip="Go to Website">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path class="animatedPath"
          d="M16.5 12C16.5 11.32 16.44 10.66 16.36 10H19.74C19.9 10.64 20 11.31 20 12C20 12.37 19.97 12.73 19.92 13.08C20.61 13.18 21.25 13.4 21.84 13.72C21.94 13.16 22 12.59 22 12C22 6.5 17.5 2 12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22C12.59 22 13.16 21.94 13.72 21.84C13.245 20.9689 12.9974 19.9921 13 19C13 18.71 13.03 18.43 13.07 18.15C12.75 18.78 12.4 19.39 12 19.96C11.17 18.76 10.5 17.43 10.09 16H13.81C14.4106 14.9564 15.3137 14.1195 16.4 13.6C16.46 13.07 16.5 12.54 16.5 12ZM12 4.03C12.83 5.23 13.5 6.57 13.91 8H10.09C10.5 6.57 11.17 5.23 12 4.03ZM4.26 14C4.1 13.36 4 12.69 4 12C4 11.31 4.1 10.64 4.26 10H7.64C7.56 10.66 7.5 11.32 7.5 12C7.5 12.68 7.56 13.34 7.64 14H4.26ZM5.08 16H8C8.35 17.25 8.8 18.45 9.4 19.56C7.57827 18.9323 6.04429 17.6682 5.08 16ZM8 8H5.08C6.03864 6.32703 7.57466 5.06124 9.4 4.44C8.8 5.55 8.35 6.75 8 8ZM14.34 14H9.66C9.56 13.34 9.5 12.68 9.5 12C9.5 11.32 9.56 10.65 9.66 10H14.34C14.43 10.65 14.5 11.32 14.5 12C14.5 12.68 14.43 13.34 14.34 14ZM14.59 4.44C16.43 5.07 17.96 6.34 18.92 8H15.97C15.6565 6.76161 15.1931 5.56611 14.59 4.44Z"
          fill="black" />
        <path class="animatedPath"
          d="M18.4998 17.625C18.2678 17.625 18.0452 17.7172 17.8811 17.8813C17.717 18.0454 17.6248 18.2679 17.6248 18.5C17.6248 18.7321 17.717 18.9546 17.8811 19.1187C18.0452 19.2828 18.2678 19.375 18.4998 19.375C18.7319 19.375 18.9545 19.2828 19.1186 19.1187C19.2826 18.9546 19.3748 18.7321 19.3748 18.5C19.3748 18.2679 19.2826 18.0454 19.1186 17.8813C18.9545 17.7172 18.7319 17.625 18.4998 17.625ZM18.4998 19.9583C18.1131 19.9583 17.7421 19.8047 17.4686 19.5312C17.1951 19.2577 17.0415 18.8868 17.0415 18.5C17.0415 18.1132 17.1951 17.7423 17.4686 17.4688C17.7421 17.1953 18.1131 17.0417 18.4998 17.0417C18.8866 17.0417 19.2575 17.1953 19.531 17.4688C19.8045 17.7423 19.9582 18.1132 19.9582 18.5C19.9582 18.8868 19.8045 19.2577 19.531 19.5312C19.2575 19.8047 18.8866 19.9583 18.4998 19.9583ZM18.4998 16.3125C17.0415 16.3125 15.7961 17.2196 15.2915 18.5C15.7961 19.7804 17.0415 20.6875 18.4998 20.6875C19.9582 20.6875 21.2036 19.7804 21.7082 18.5C21.2036 17.2196 19.9582 16.3125 18.4998 16.3125Z"
          fill="black" />
      </svg>
    </a>
  </div>

  <div class="mobile-view-2" (click)="openYoutubeVideoDialog($event,pageDataService?.pageData?.navArray[1]?.url)">
    <div class="tutorial-guide" matTooltip="Tutorial Guide">
      <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <mask id="mask0_443_2815" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="1" y="3" width="15"
          height="12">
          <path
            d="M8.88641 4.09088C14.8182 4.09088 14.8182 4.09088 14.8182 8.70452C14.8182 13.3182 14.8182 13.3182 8.88641 13.3182C2.95459 13.3182 2.95459 13.3182 2.95459 8.70452C2.95459 4.09088 2.95459 4.09088 8.88641 4.09088Z"
            fill="white" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M7.56812 6.39844L11.5227 8.70526L7.56812 11.0121V6.39844Z" fill="black" />
        </mask>
        <g mask="url(#mask0_443_2815)">
          <path d="M26.0683 -0.886108H-0.113525V25.2957H26.0683V-0.886108Z" fill="#9D1B1E" />
        </g>
      </svg>

      <p class="text">Tutorial Guide</p>
    </div>

  </div>

  <div class="toolbar-action">
    <!-- @if (environment.deploymentType === 'default' && shopPackageInfo?.isTrailPrice === false) {
    <div class="subscription">
      <span class="taka">{{ '' | shopCurrency}} {{ shopPackageInfo?.currentBalance ?? 0 }}</span>
      @if (shopPackageInfo?.expireDay >= 0) {
        <span class="expired"> {{ shopPackageInfo?.shopType === 'free' ? 'Trial expire' : 'Expire' }} in <span
          class="red">{{ shopPackageInfo?.expireDay }} {{ shopPackageInfo?.expireDay > 1 ? 'days' : 'day' }} </span></span>

      } @else {
        <span class="expired"> {{ shopPackageInfo?.shopType === 'free' ? 'Trial expired' : 'Expired' }}  <span
          class="red">{{ Math.abs(this.shopPackageInfo?.expireDay) }} {{ Math.abs(shopPackageInfo?.expireDay) > 1 ? 'days' : 'day' }}
          ago</span></span>

      }
    </div>
  }     -->
    <div class="repair-icon-container" routerLink="/repair/repair-list" matTooltip="Repair">
      <mat-icon>build</mat-icon>
    </div>

    <div class="pos-icon-container" routerLink="/pos/sales/new-sales" matTooltip="POS">
      <mat-icon>point_of_sale</mat-icon>
    </div>

    <div class="expense-icon-container" routerLink="/expense/all-expense" matTooltip="Expense">
      <mat-icon>payments</mat-icon>
    </div>

    <div class="calculator-icon-container" (click)="toggleCalculator()" matTooltip="Calculator">
      <mat-icon>calculate</mat-icon>
    </div>

    <div class="notification-design-container">
      <div class="notification-icon" (click)="toggleNotification()" matTooltip="Notification">
        <!--        <span class="count" (click)="toggleNotification()">{{unreadNotificationCount}}</span>-->
        <!-- Your SVG Icon -->
        <svg fill="#454545" width="34px" height="34px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
          stroke="#454545">
          <path d="M10,20h4a2,2,0,0,1-4,0Zm8-4V10a6,6,0,0,0-5-5.91V3a1,1,0,0,0-2,0V4.09A6,6,0,0,0,6,10v6L4,18H20Z">
          </path>
        </svg>
      </div>

      <!-- Notification Panel -->
      <div class="notification-panel" [class.show]="isNotificationVisible">
        <div class="notification-content">
          @for (data of allNotifications; track data?._id) {
          <div class="notification-item" [class.unread]="data.isRead === false">
            <div class="first"></div>
            <div class="second">
              <p class="notify-title">{{ data?.name }}</p>
              <p class="content">{{ data?.description }}</p>
              <p class="timing">{{ data?.createdAt | dayAgo }}</p>
            </div>
            <div class="third">
              <button mat-icon-button [matMenuTriggerFor]="tableMenu" (click)="$event.stopPropagation()"
                #menuTrigger="matMenuTrigger">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #tableMenu="matMenu">
                <button mat-menu-item (click)="onChangeStatus(data._id, {isRead: true})">
                  <mat-icon>visibility</mat-icon>
                  Mark as a read
                </button>

                <button mat-menu-item (click)="onDeleteNotification(data._id)">
                  <mat-icon>delete</mat-icon>
                  Delete
                </button>
              </mat-menu>
            </div>
          </div>

          }


        </div>
        @if (totalNotifications > allNotifications.length) {
        <div class="mark-all" (click)="onLoadMore()">
          <button>
            <!--              Mark All As Read-->
            {{ totalNotifications > allNotifications.length ? 'Load More' : '' }}
          </button>
        </div>
        }

      </div>
    </div>

    <!-- Calculator Widget -->
    @if (isCalculatorVisible) {
    <app-calculator (close)="closeCalculator()"></app-calculator>
    }

    <div class="action-container">
      <div [matMenuTriggerFor]="profile" matTooltip="My Profile" class="profile">
        <!--        <span>{{ admin?.name }}</span>-->
        <div id="profile-thumb">
          <img [src]="
              admin?.profileImg
                ? admin?.profileImg
                : '/assets/images/svg/ic_user_gray.svg'
            " alt="" />
        </div>
      </div>

      <mat-menu #profile="matMenu">
        <button mat-menu-item [routerLink]="['/profile']">
          <mat-icon>perm_identity</mat-icon>
          <span>View Profile</span>
        </button>
        <button (click)="adminLogOut()" mat-menu-item>
          <mat-icon>exit_to_app</mat-icon>
          <span>Logout</span>
        </button>
        <button mat-menu-item>
          <mat-icon>account_circle</mat-icon>
          <span>(Login as {{ admin?.username }})</span>
        </button>
        <button mat-menu-item class="side-profile-bar-logo">
          @if (shopInfo?.logoPrimary) {
          <img [src]="shopInfo?.logoPrimary" alt="image" loading="lazy">
          } @else {
          <p>{{ websiteInfo?.websiteName }}</p>
          }
        </button>
      </mat-menu>
    </div>
  </div>
</mat-toolbar>